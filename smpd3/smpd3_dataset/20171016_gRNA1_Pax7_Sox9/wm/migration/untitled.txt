FOR CELL COUNTS

# Normalize all values to mean of control group
mean_embs = pd.DataFrame((full_df.groupby(['Embryo', 'Slice'])['Count']).mean())
mean_cntl = pd.DataFrame((mean_embs.groupby(['Slice'])).mean())
norm_values = (mean_embs / mean_cntl.iloc[0]).reset_index()
norm_values_pivot = norm_values.pivot(index='Embryo', columns='Slice', values='Count')
norm_values_pivot['ID'] = expt_date + '_' + norm_values_pivot.index
norm_values_pivot.to_csv(expt_date + '_' + treatment + '_' + result_type + '_norm_values.csv')


FOR MIGRATION RATIOS

# Normalize all migration area values to mean of control group
norm_cntl = area_cntl/(area_cntl.mean())
norm_expt = area_expt/(area_expt.mean())
norm_areas = pd.concat([norm_cntl, norm_expt], axis=1, sort=False)
norm_areas['ID'] = expt_date + '_' + norm_areas.index
norm_areas.to_csv(expt_date + '_' + treatment + '_' + result_type + '_norm_areas.csv')
